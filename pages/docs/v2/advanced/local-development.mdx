import { withAmp } from 'next/amp'
import Doc from '~/components/layout/docs'
import { GenericLink } from '~/components/text/link'
import { InlineCode } from '~/components/text/code'
import { TerminalInput, TerminalOutput } from '~/components/text/terminal'
import { Image } from '~/components/media'
import Caption from '~/components/text/caption'
import Card from '~/components/card'
import Note from '~/components/text/note'

export const meta = {
  title: 'Local Development',
  description:
    'Learning the basics of developing any application with ZEIT Now.',
  editUrl: 'pages/docs/v2/advanced/local-development.mdx',
  lastEdited: '2019-07-18T13:30:51.000Z'
}

Getting started with development using Now is simple and only requires a **single command** - `now dev`.

`now dev` is the **single command development experience** created with the aim of maximizing your productivity by simulating our Now platform locally.

To get started with `now dev`, you will need the [Now CLI](/docs/v2/getting-started/installation#now-cli). If you have not installed it yet, please refer to the [installation instructions](/docs/v2/getting-started/installation) (otherwise, run `yarn add global now` if Node.js is installed).

<Note>
  <InlineCode>now dev</InlineCode> requires Now 2.0 and the latest version of
  the <GenericLink href="/guides/updating-now-cli/">Now CLI </GenericLink>
  to work. If you are currently using Now 1.0, you should consider
  <GenericLink href="/guides/upgrade-to-2-0"> upgrading</GenericLink>.
</Note>

## Key Concepts

### Development Secrets

When working on a project with `now dev`, it is extremely important that you **do not use any production secrets** (like your database credentials, for example).

Instead, you should use [secrets](/docs/v2/development/environment-variables) that are specific to the development environment and cannot cause any production damage. Those can be set in one of two files:

- `.env` contains environment variables used during **runtime**
- `.env.build` contains environment variables used during **buildtime**

### Production-Like Environment, Locally

By mimicking the behavior of the Now platform in almost every way, `now dev` **decreases the chance of unexpected surprises** when deploying to a minimum.

### Custom Development Environment

If you are going to set up a project that is built statically when deployed; you can define custom development behavior for what `now dev` and its associated environment should attach to when you are developing locally.

To do this, you can use a `dev` script inside of a `package.json`.

## Read More

Extend your projects with all that Now offers:

<Card title="Deployment" href="/docs/v2/deployments/basics">
  Learn how to deploy your projects with Now.
</Card>

<Card
  title="Environment Variables"
  href="/docs/v2/development/environment-variables"
>
  Define behavior in your project, dependent upon environment.
</Card>

<Card title="Aliases" href="/docs/v2/domains-and-aliases/aliasing-a-deployment">
  Discover how to generate shareable URL's for your project.
</Card>

<Card title="Support" href="/support">
  Learn more about our Priority Support and setup a Custom Domain Suffix.
</Card>

export default withAmp(({ children }) => <Doc meta={meta}>{children}</Doc>, {
  hybrid: true
})
